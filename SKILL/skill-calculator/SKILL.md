---
name: calculator-assist
description: 提供数学计算处理流程，支持数学计算并且格式化输出结果，当需要处理数学计算流程时必须使用此技能，禁止直接调用 calculator 工具。
version: 1.0.0
---

# Calculator Skill

这个 skill 指导你如何使用 calculator MCP 工具进行数学计算，并按照标准格式输出结果。

## 可用的 Calculator 工具

你可以使用 `calculator__calculator` MCP 工具进行数学计算。

该工具接受以下参数：
- `operation`: 运算类型，可选值：`"add"`（加法）、`"subtract"`（减法）、`"multiply"`（乘法）、`"divide"`（除法）
- `a`: 第一个数字
- `b`: 第二个数字

## 工作流程

当用户请求数学计算时，按以下步骤操作：

### 1. 识别运算类型
- 加法：operation = "add"
- 减法：operation = "subtract"
- 乘法：operation = "multiply"
- 除法：operation = "divide"

### 2. 调用 calculator 工具
调用 `calculator__calculator` 工具，传入 `operation`、`a`、`b` 三个参数。

### 3. 格式化输出
将计算结果按以下格式输出：

```
📊 计算结果
━━━━━━━━━━━━━━━━━━━━
表达式: {原始表达式}
结果: {计算结果}
━━━━━━━━━━━━━━━━━━━━
```

## 使用示例

### 示例 1: 简单加法
**用户**: 计算 11 + 22

**步骤**:
1. 调用 `calculator__calculator` 工具，参数：`{ operation: "add", a: 11, b: 22 }`
2. 获得结果: 33
3. 格式化输出:
```
📊 计算结果
━━━━━━━━━━━━━━━━━━━━
表达式: 11 + 22
结果: 33
━━━━━━━━━━━━━━━━━━━━
```

### 示例 2: 乘法运算
**用户**: 123 乘以 456 等于多少？

**步骤**:
1. 调用 `calculator__calculator` 工具，参数：`{ operation: "multiply", a: 123, b: 456 }`
2. 获得结果: 56088
3. 格式化输出:
```
📊 计算结果
━━━━━━━━━━━━━━━━━━━━
表达式: 123 × 456
结果: 56,088
━━━━━━━━━━━━━━━━━━━━
```

### 示例 3: 复杂表达式
**用户**: 计算 (10 + 5) * 2

**步骤**:
1. 先调用 `calculator__calculator` 工具，参数：`{ operation: "add", a: 10, b: 5 }` → 得到 15
2. 再调用 `calculator__calculator` 工具，参数：`{ operation: "multiply", a: 15, b: 2 }` → 得到 30
3. 格式化输出:
```
📊 计算结果
━━━━━━━━━━━━━━━━━━━━
表达式: (10 + 5) × 2
步骤 1: 10 + 5 = 15
步骤 2: 15 × 2 = 30
最终结果: 30
━━━━━━━━━━━━━━━━━━━━
```

## 输出格式规范

### 必须包含的元素
1. **标题**: 📊 计算结果
2. **分隔线**: ━━━━━━━━━━━━━━━━━━━━
3. **表达式**: 显示原始表达式（使用数学符号 +、-、×、÷）
4. **结果**: 显示最终结果（大数字使用千分位分隔符）
5. **步骤**（可选）: 对于多步骤计算，展示中间步骤

### 数字格式化规则
- 整数：使用千分位分隔符（如 56,088）
- 小数：保留适当位数（通常 2-4 位）
- 百分比：使用 % 符号
- 科学计数法：对于极大或极小的数

## 注意事项

1. **除法检查**: 调用 `calculator__divide` 前检查除数不为 0
2. **精度处理**: 浮点数运算注意精度问题
3. **错误处理**: 如果工具调用失败，友好地告知用户
4. **单位说明**: 如果涉及单位，在结果中明确标注
